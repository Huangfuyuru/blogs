## 前端的发展

* 1993年，出现表单，使得网页中可以有数据的流动
* 1995年，js出现，可以为网页添加一些动态效果
* 1996年，flash的出现，使得网页动画等动态效果称为可能
* 1998年，css产生，将网页的样式抽离出来
* 1999年，微软在ie5中实现了xmlhttprequest这个API
* 2005年，Google发布Gmail，采用了ajax技术，标志了前后端分离的产生
* 2007年，为了在手机端实现良好的网页效果，出现了网格布局等
* 2011年，h5发布，前端领域逐渐兴起

## 前端集成的方案

前端行业经历了这么长时间的发展，技术元素非常丰富，这里列举出一般web团队需要用到的技术元素：

1. `开发规范`：包括开发、部署的目录规范，编码规范等。不要小瞧规范的威力，可以极大的提升开发效率，真正优秀的规范不会让使用者感到约束，而是能帮助他们快速定位问题，提升效率。
2. `模块化开发`：针对js、css，以功能或业务为单元组织代码。js方面解决独立作用域、依赖管理、api暴露、按需加载与执行、安全合并等问题，css方面解决依赖管理、组件内部样式管理等问题。是提升前端开发效率的重要基础。现在流行的模块化框架有requirejs、seajs等。
3. `组件化开发`：在模块化基础上，以页面小部件(component)为单位将页面小部件的js、css、html代码片段放在一起进行开发、维护，组件单元是资源独立的，组件在系统内可复用。比如头部(header)、尾部(footer)、搜索框(searchbar)、导航(menu)、对话框(dialog)等，甚至一些复杂的组件比如编辑器(editor)等。通常业务会针对组件化的js部分进行必要的封装，解决一些常见的组件渲染、交互问题。
4. `组件仓库`：有了组件化，我们希望将一些非常通用的组件放到一个公共的地方供团队共享，方便新项目复用，这个时候我们就需要引入一个组件仓库的东西，现在流行的组件库有bower、component等。团队发展到一定规模后，组件库的需求会变得非常强烈。
5. `性能优化`：这里的性能优化是指能够通过工程手段保证的性能优化点。由于其内容比较丰富，就不在这里展开了，感兴趣的同学可以阅读我的这两篇文章 [[1](http://infoq.com/cn/articles/front-end-engineering-and-performance-optimization-part1)] [[2](http://infoq.com/cn/articles/front-end-engineering-and-performance-optimization-part2)]。性能优化是前端项目发展到一定阶段必须经历的过程。这部分我想强调的一点是 `性能优化一定是一个工程问题和统计问题`，不能用工程手段保证的性能优化是不靠谱的，优化时只考虑一个页面的首次加载，不考虑全局在宏观统计上的优化提升也是片面的。
6. `项目部署`：部署按照现行业界的分工标准，虽然不是前端的工作范畴，但它对性能优化有直接的影响，包括静态资源缓存、cdn、非覆盖式发布等问题。合理的静态资源资源部署可以为前端性能带来较大的优化空间。
7. `开发流程`：完整的开发流程包括本地开发调试、视觉效果走查确认、前后端联调、提测、上线等环节。对开发流程的改善可以大幅降低开发的时间成本，工作这些年见过很多独立的系统（cms系统、静态资源推送系统）将开发流程割裂开，对前端开发的效率有严重的阻碍。
8. `开发工具`：这里说的工具不是指IDE，而是工程工具，包括构建与优化工具、开发-调试-部署等流程工具，以及组件库获取、提交等相关工具，甚至运营、文档、配置发布等平台工具。前端开发需要工具支持，这个问题的根本原因来自前端领域语言特性（未来我会单独写一篇文章介绍前端领域语言缺陷问题）。前端开发所使用的语言（js、css、html）以及前端工程资源的加载与定位策略决定了前端工程必须要工具支持。由于这些工具通常都是独立的系统，要想把它们串联起来，才有了yeoman这样的封装。前面提到的7项技术元素都直接或间接的对前端开发工具设计产生一定的影响，因此能否串联其他技术要素，使得前端开发形成一个连贯可持续优化的开发体系，工具的设计至关重要。

以上8项，1-3是技术和业务相关的开发需求，4是技术沉淀与共享需求，5-8是工程优化需求。

## 常用工具

```shell
npm i -g htmlhint ##静态代码检查工具
npm i -g csslint ##静态代码检查工具
npm i -g eslint ##静态代码检查工具
npm - -g browser-sync ##热加载工具
```

## 自动化构建

#### github版本控制

* 创建github仓库,本地创建md笔记以及`SUMMARY.md`文件作为目录

* 初始化npm环境，下载gitbook`npm i gitbook-cli -D `
* 上传内容到主分支
* 打包`gitbook build`,打包后出现_book目录，进入目录，将此目录与本库的gh-pages关联，并上传。
* 通过访问`https://githubname.github.io/repositories`

#### 持续集成

* 在tarvis CI关联github，并选择要测试的项目，也可以设置环境变量

* 在主分支，创建.travis.yml，写入一下配置

  ```
  language: node_js
  node_js:
    - "node"
  
  after_script:
    - gitbook build
    - cd ./_book
    - git init
    - git config user.name "${USER_NAME}"
    - git config user.email "${USER_EMAIL}"
    - git add .
    - git commit -m "publish gitbook"
    - git push --force --quiet "https://${ACC_TOKEN}@${GH_REF}" master:${BRANCH}
  
  branches:
    only:
      - master
      
      
  ##ACC_TOKEN:token指令
  ##GH_REF:仓库地址
  ##BRANCH:分支名
  ##
  ```

* 上传到远程仓库，github会自动执行配置文件中的过程

#### 总结：

master分支中，有文章的md格式文档、summary目录、travis配置文件、依赖配置文件package（包含gitbook-cli模块）

gh-pages分支中，即为`gitbook build`打包后，`_book`目录下的全部内容